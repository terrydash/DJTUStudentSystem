@{
    
    Layout = "~/Views/Shared/_Layout.cshtml";
}
@using DJTUStudentSystem.MVCWEB.Models
@using FluentBootstrap;
@using FluentBootstrap.Mvc;
@model  List<TeachClassViewModel>

@using (var table = Html.Bootstrap().Table().SetStyle(TableStyle.Bordered | TableStyle.Hover).SetAlignment(TextAlignment.Center).AddCss("text-center").Begin())
{
    int i = 0;
    <thead class="text-center">
        <tr >
            <th>序号</th>
            <th>课程名称</th>
            <th class=" hidden-480">任课教师</th>
            <th class=" hidden-480">开放状态</th>
            <th class=" hidden-480">开放人数</th>
            <th class=" hidden-480">已选人数</th>
            <th>余量</th>
            <th>课程表</th>
            <th>操作</th>
        </tr>
    </thead>


    foreach (var item in Model)
    {
        var rowg = table.TableRow();
        if (((int)item.OpenNum > (int)item.HaveNum) && (item.SelectState == "开放"))
        {
            rowg.SetState(TableState.Success);

        }
        else
        {
            rowg.SetState(TableState.Danger);
        }

        using (var row = rowg.Begin())
        {


            @row.TableData(i = i + 1).AddStyle(" display", "table-cell");
            @row.TableData(item.CourseName);
            @row.TableData(item.TeacherName).AddCss("text-center hidden-480 ");
            @row.TableData(item.SelectState).AddCss("text-center hidden-480 ");
            @row.TableData(item.OpenNum).AddCss("text-center hidden-480 ");
            @row.TableData(item.HaveNum).AddCss("text-center hidden-480 ");
            @row.TableData(((int)item.OpenNum) - ((int)item.HaveNum));
            @row.TableData(item.KCB);
                if ((int)item.OpenNum > (int)item.HaveNum && item.SelectState == "开放")
                {
                @row.TableData(Html.Bootstrap().Button("选此课", ButtonType.Button).SetState(ButtonState.Success))
                }
                else
                {
                    if (item.SelectState != "开放")
                    {
                    @row.TableData("锁定").SetState(TextState.Danger);
                    }
                    else
                    {
                    @row.TableData("已满").SetState(TextState.Danger);
                    }


                }
            }
        }
}